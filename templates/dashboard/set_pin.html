{% extends 'dashboard/base.html' %}
{% load static %}
{% block content %}

    <!-- App Capsule -->
    <div id="appCapsule">

        {% include 'dashboard/alert.html' %}
        <div class="section mt-3 text-center">
            <div class="avatar-section">
                <h1>Set Pin</h1>
            </div>
           
        </div>

        
        <div class="container-fluid">
            <form method="POST">
                {% csrf_token %}
                    <div class="form-group basic">
                        <label class="label">Old Pin</label>
                        <div class="input-group mb-2">
    
                            <input type="password" class="form-control" name="pin" id="text11d" 
                             required='required'  placeholder="Old Pin" oninput="sanitizeInput()">
                                    
                        </div>
                    </div>
    
                    <div class="form-group basic">
                        <button type="submit" class="btn btn-primary btn-block btn-lg"
                        onclick="return confirm('Confirm?')" >Update</button>
                    </div>
                </form>
        </div>

    </div>
    <!-- * App Capsule -->

    <script>
        function sanitizeInput(inputId) {
            let inputElement = document.querySelector(`[name=${inputId}]`);
            let inputValue = inputElement.value;
            let sanitizedValue = inputValue.replace(/\D/g, '');

            sanitizedValue = sanitizedValue.substring(0, 4);


            inputElement.value = sanitizedValue;
        }
    </script>
{% endblock %}